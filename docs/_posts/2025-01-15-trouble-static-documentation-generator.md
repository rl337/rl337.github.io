---
layout: post
title: "Trouble - A Multi-Purpose CLI Tool for Static Documentation"
date: 2025-01-15 11:00:00 -0500
categories: [projects, tools, python]
tags: [cli, documentation, static-site, python, github-actions]
author: Richard Lee
---

![Trouble CLI Tool]({{ '/assets/images/blog/trouble-cli.png' | relative_url }})
*Trouble in action - generating documentation from templates and data*

You know that moment when you realize you've been manually updating the same documentation files across multiple projects, and you think "there has to be a better way"? That's exactly where I found myself a few months ago, drowning in repetitive documentation tasks and looking for a solution.

That frustration led me to build **Trouble** - a CLI tool that started as a simple script to generate documentation from templates but evolved into something much more interesting: a flexible system for automated documentation generation that actually works.

## üõ†Ô∏è What is Trouble?

Trouble is a Python-based CLI tool designed to generate static documentation
files (Markdown or HTML) that can be published via GitHub Pages. It's
particularly useful for projects that need automated documentation generation as
part of their CI/CD pipeline.

## üéØ Key Features

### Template-Based Generation

Trouble uses Python's `string.Template` for flexible templating, allowing you to
create reusable templates for different types of documentation:

- **Markdown templates** (`.md.template`)
- **HTML templates** (`.html.template`)
- **Variable substitution** using `${variable}` syntax

### JSON-Driven Content

The tool reads page data from a `trouble/data.json` file, where each key
represents a page with associated metadata:

```json
{
  "page_one": {
    "title": "Hello World",
    "content": "This is the first page generated by Trouble.",
    "filename": "page_one.html"
  }
}
```

### GitHub Actions Integration

Trouble is designed to work seamlessly with GitHub Actions, automatically
generating and publishing documentation when changes are merged to the main
branch.

## üöÄ How It Works

### Basic Usage

```bash
# Generate documentation from templates
python -m trouble generate
```

The `generate` command:

1. Reads page data from `trouble/data.json`
2. Processes templates in the `trouble/templates/` directory
3. Outputs generated files to the `docs/` directory
4. Supports both Markdown and HTML output formats

### Template System

Templates use Python's `string.Template` syntax for variable substitution:

```html
<!DOCTYPE html>
<html>
<head>
    <title>${title}</title>
</head>
<body>
    <h1>${title}</h1>
    <p>${content}</p>
</body>
</html>
```

### GitHub Actions Workflow

The project includes a `.github/workflows/publish.yml` file that defines the
GitHub Action for automated documentation publishing:

```yaml
name: Publish Documentation
on:
  push:
    branches: [main]
jobs:
  publish:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Generate Documentation
        run: python -m trouble generate
      - name: Deploy to GitHub Pages
        # ... deployment steps
```

## üé® Use Cases

Trouble is perfect for:

- **Project documentation** that needs to be generated from data
- **API documentation** with dynamic content
- **Report generation** from structured data
- **Static site generation** for simple projects
- **Automated documentation** in CI/CD pipelines

## üîß The Development Journey

![Development Process]({{ '/assets/images/blog/trouble-development.png' | relative_url }})
*The evolution from simple script to comprehensive CLI tool*

Looking at the commit history, I can see exactly where Trouble evolved from a simple script into something more sophisticated. The early commits show basic functionality, but then something interesting happened - I started collaborating with AI agents to improve the tool.

### The AI Collaboration

One of the most fascinating aspects of developing Trouble was the AI collaboration. Looking at commits like `88406a93` ("Refactor: Improve etude discovery and logging"), I can see where AI agents (specifically Cursor Agent) helped improve the codebase.

The AI didn't just write code - it helped me think through problems differently. When I was stuck on the etude discovery system, the AI suggested a completely different approach that was more robust and maintainable.

### The Data Build Failures

One of the most challenging periods was dealing with data build failures. Looking at commit `3866631a` ("Investigate data build failures and alternative api"), I can see exactly where this became a major focus.

The issue was that the tool was trying to fetch data from external APIs that weren't always reliable. The solution was to implement a more robust data fetching system with proper error handling and fallback mechanisms.

### The Testing Evolution

Testing a CLI tool that generates documentation is... interesting. How do you test something that's designed to produce different output every time? The solution was to focus on testing the *process*, not the output - ensuring that the tool could handle various input formats, error conditions, and edge cases without crashing.

## üìä Project Structure

```text
trouble/
‚îú‚îÄ‚îÄ trouble/              # Main Python package
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ generate.py       # Core generation logic
‚îÇ   ‚îî‚îÄ‚îÄ templates/        # Template files
‚îú‚îÄ‚îÄ data.json            # Page data configuration
‚îú‚îÄ‚îÄ docs/                # Generated output
‚îî‚îÄ‚îÄ .github/workflows/   # CI/CD configuration
```

## üöÄ Getting Started

To use Trouble in your own project:

1. **Install the tool**:

   ```bash
   pip install trouble
   ```

2. **Create your data file**:

   ```json
   {
     "my_page": {
       "title": "My Page",
       "content": "This is my generated page.",
       "filename": "my_page.html"
     }
   }
   ```

3. **Create templates**:

   ```html
   <!-- templates/page.html.template -->
   <h1>${title}</h1>
   <p>${content}</p>
   ```

4. **Generate documentation**:

   ```bash
   python -m trouble generate
   ```

## üîó Links and Resources

- **[GitHub Repository](https://github.com/rl337/trouble)** - Source code and
  documentation
- **[Generated Documentation](https://rl337.github.io/trouble/)** - Live
  examples of generated pages
- **[GitHub Actions Workflow](https://github.com/rl337/trouble/blob/main/.github/workflows/publish.yml)**
  - CI/CD configuration

## üéØ Future Development

Planned enhancements include:

- **More template engines** (Jinja2, Mustache)
- **Configuration file support** (YAML, TOML)
- **Plugin system** for custom generators
- **Watch mode** for development
- **Advanced templating** features

## üí° What I Learned About Documentation and AI

![Project Reflection]({{ '/assets/images/blog/trouble-reflection.png' | relative_url }})
*The intersection of documentation, automation, and AI collaboration*

Building Trouble taught me more about documentation than I expected. The biggest revelation? Good documentation isn't just about writing - it's about creating systems that keep documentation current and useful.

### The Documentation Problem

The real problem with documentation isn't that it's hard to write - it's that it's hard to keep current. Code changes, APIs evolve, and documentation becomes outdated faster than you can update it manually.

Trouble solves this by making documentation generation part of the development process. When your code changes, your documentation updates automatically. It's not perfect, but it's a lot better than manually maintaining dozens of documentation files.

### The AI Collaboration Experience

Working with AI agents on this project was eye-opening. The AI didn't just write code - it helped me think through problems differently. When I was stuck on a particular issue, the AI would suggest approaches I hadn't considered.

But it also taught me that AI collaboration isn't about replacing human thinking - it's about augmenting it. The AI could generate code quickly, but I still needed to understand the problem, evaluate the solutions, and make the final decisions.

### The Name

I named it "Trouble" because that's exactly what it solves - the trouble of maintaining documentation manually. It's not a fancy name, but it's honest about what the tool does.

---

*If you're tired of manually updating documentation or want to experiment with AI-assisted development, check out [Trouble](https://github.com/rl337/trouble). It might just change how you think about documentation and automation!*
